@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* Light theme (default) - Perplexity style */
  body {
    @apply bg-surface text-text-primary antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  /* Dark theme */
  .dark body {
    @apply bg-surface-dark text-text-primary-dark;
  }

  /* Typography hierarchy */
  h1 {
    @apply text-4xl md:text-5xl font-semibold tracking-tight text-text-primary;
  }
  .dark h1 {
    @apply text-text-primary-dark;
  }

  h2 {
    @apply text-2xl md:text-3xl font-semibold tracking-tight text-text-primary;
  }
  .dark h2 {
    @apply text-text-primary-dark;
  }

  h3 {
    @apply text-xl md:text-2xl font-medium text-text-primary;
  }
  .dark h3 {
    @apply text-text-primary-dark;
  }

  p {
    @apply text-base leading-relaxed text-text-secondary;
  }
  .dark p {
    @apply text-text-secondary-dark;
  }

  /* Accessibility */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Focus styles for accessibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }
}

@layer components {
  /* Container - centered narrow column for readability */
  .content-container {
    @apply max-w-content mx-auto px-4 sm:px-6 lg:px-8;
  }

  .wide-container {
    @apply max-w-wide mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Page title - modern sans-serif */
  .page-title {
    @apply text-4xl md:text-5xl font-semibold tracking-tight text-text-primary;
  }
  .dark .page-title {
    @apply text-text-primary-dark;
  }

  /* Section title */
  .section-title {
    @apply text-2xl md:text-3xl font-semibold tracking-tight text-text-primary mb-4;
  }
  .dark .section-title {
    @apply text-text-primary-dark;
  }

  /* Subtitle */
  .subtitle {
    @apply text-lg md:text-xl text-text-secondary font-normal;
  }
  .dark .subtitle {
    @apply text-text-secondary-dark;
  }

  /* Body text */
  .body-text {
    @apply text-base leading-relaxed text-text-secondary;
  }
  .dark .body-text {
    @apply text-text-secondary-dark;
  }

  /* Primary button - Perplexity style */
  .btn-primary {
    @apply inline-flex items-center justify-center px-5 py-2.5 
           bg-primary text-white font-medium text-sm
           rounded hover:bg-primary-dark
           transition-all duration-200 ease-smooth
           shadow-soft hover:shadow-card;
  }

  /* Secondary button */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-5 py-2.5 
           bg-surface-elevated text-text-primary font-medium text-sm
           border border-border rounded
           hover:bg-surface-hover hover:border-border-strong
           transition-all duration-200 ease-smooth;
  }
  .dark .btn-secondary {
    @apply bg-surface-elevated-dark text-text-primary-dark 
           border-border-dark hover:bg-surface-hover-dark hover:border-border-strong-dark;
  }

  /* Ghost button */
  .btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2 
           text-text-secondary font-medium text-sm rounded
           hover:bg-surface-hover hover:text-text-primary
           transition-all duration-200 ease-smooth;
  }
  .dark .btn-ghost {
    @apply text-text-secondary-dark hover:bg-surface-hover-dark hover:text-text-primary-dark;
  }

  /* Card - soft shadow, rounded corners */
  .card {
    @apply bg-surface-elevated p-6 rounded-md border border-border
           shadow-card transition-all duration-200 ease-smooth;
  }
  .dark .card {
    @apply bg-surface-elevated-dark border-border-dark;
  }

  /* Card hover effect */
  .card-hover {
    @apply hover:shadow-elevated hover:border-border-strong hover:-translate-y-0.5;
  }
  .dark .card-hover {
    @apply hover:border-border-strong-dark;
  }

  /* Interactive card */
  .card-interactive {
    @apply card card-hover cursor-pointer;
  }

  /* Tag/Badge */
  .tag {
    @apply inline-flex items-center px-2.5 py-1 text-xs font-medium
           bg-surface-hover text-text-secondary rounded-sm;
  }
  .dark .tag {
    @apply bg-surface-hover-dark text-text-secondary-dark;
  }

  /* Tag primary variant */
  .tag-primary {
    @apply bg-primary-subtle text-primary;
  }
  .dark .tag-primary {
    @apply bg-primary/20 text-primary-light;
  }

  /* Navigation link */
  .nav-link {
    @apply relative text-sm font-medium text-text-secondary
           hover:text-text-primary transition-colors duration-200;
  }
  .dark .nav-link {
    @apply text-text-secondary-dark hover:text-text-primary-dark;
  }

  .nav-link-active {
    @apply text-primary;
  }
  .dark .nav-link-active {
    @apply text-primary-light;
  }

  /* Text link */
  .link {
    @apply text-primary hover:text-primary-dark 
           transition-colors duration-200 underline-offset-2
           hover:underline;
  }
  .dark .link {
    @apply text-primary-light hover:text-primary;
  }

  /* Divider */
  .divider {
    @apply border-t border-border;
  }
  .dark .divider {
    @apply border-border-dark;
  }

  /* Input field */
  .input {
    @apply w-full px-4 py-2.5 text-sm bg-surface-elevated
           border border-border rounded
           text-text-primary placeholder:text-text-tertiary
           focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary
           transition-all duration-200;
  }
  .dark .input {
    @apply bg-surface-elevated-dark border-border-dark 
           text-text-primary-dark placeholder:text-text-tertiary-dark;
  }

  /* Glass effect for nav */
  .glass-nav {
    @apply bg-surface-elevated/80 backdrop-blur-lg border-b border-border shadow-nav;
  }
  .dark .glass-nav {
    @apply bg-surface-elevated-dark/80 border-border-dark;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-accent-teal bg-clip-text text-transparent;
  }

  /* Section spacing */
  .section {
    @apply py-16 md:py-24;
  }

  /* Prose container - legacy support */
  .prose-container {
    @apply content-container;
  }

  /* Legacy class mappings for compatibility */
  .gothic-title {
    @apply page-title;
  }

  .gothic-subtitle {
    @apply section-title;
  }

  .serene-text {
    @apply body-text;
  }

  .btn-gothic {
    @apply btn-secondary;
  }

  .card-calm {
    @apply card card-hover;
  }

  .link-gothic {
    @apply link;
  }

  /* Glass card - legacy support */
  .glass-card {
    @apply card;
  }

  .glass {
    @apply glass-nav;
  }
}
